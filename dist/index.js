!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Array.prototype.remove=function(t){if(this.length){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0}},e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="2"==t.version.split(".")[0],i="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=",r=["scroll","wheel","mousewheel","resize","animationend","transitionend"],o={preLoad:e.preLoad||1.2,error:e.error||i,loading:e.loading||i,attempt:e.attempt||3,hasBind:!1},a=[],d=[],u={throttle:function(t,e){var n=null,i=0;return function(){if(!n){var r=Date.now()-i,o=this,a=arguments,d=function(){i=Date.now(),n=!1,t.apply(o,a)};r>=e?d():n=setTimeout(d,e)}}},on:function(t,e,n){t.addEventListener(e,n)},off:function(t,e,n){t.removeEventListener(e,n)}},l=u.throttle(function(){for(var t=0,e=a.length;t<e;t++)f(a[t])},300),c=function(t,e){e?r.forEach(function(e){u.on(t,e,l)}):r.forEach(function(e){u.off(t,e,l)})},f=function(t){if(d.indexOf(t.src)>-1)return p(t.el,t.src,"loaded",t.bindType);var e=t.el.getBoundingClientRect();e.top<window.innerHeight*o.preLoad&&e.bottom>0&&e.left<window.innerWidth*o.preLoad&&e.right>0&&s(t)},s=function(t){return!(t.attempt>o.attempt)&&(t.attempt++,void h(t,function(e){p(t.el,t.src,"loaded",t.bindType),d.push(t.src),a.remove(t)},function(e){p(t.el,t.error,"error",t.bindType)}))},p=function(t,e,n,i){i?t.setAttribute("style",i+": url("+e+")"):t.setAttribute("src",e),t.setAttribute("lazy",n)},h=function(t,e,n){var i=new Image;i.src=t.src,i.onload=function(){e({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:t.src})},i.onerror=function(t){n(t)}},v=function(e){var n=!1;return a.forEach(function(t){t.el==e&&(n=!0)}),n&&t.nextTick(function(){l()}),n},g=function(e,n,i){if("loaded"!=e.getAttribute("lazy")&&!v(e)){var r=n.value,u=o.loading,f=o.error;if(d.indexOf(r)>-1)return p(e,r,"loaded",n.arg);p(e,u,"loading",n.arg),t.nextTick(function(){a.push({el:e,src:r,error:f,attempt:0,bindType:n.arg}),l(),a.length>0&&!o.hasBind&&(o.hasBind=!0,c(window,!0))})}},A=function(t,e,n,i){if(t){for(var r=0,d=a.length;r<d;r++)a[r]&&a[r].el==t&&a.splice(r,1);o.hasBind&&0==a.length&&c(window,!1)}};n?t.directive("lazy",{bind:g,update:g,inserted:g,comppnentUpdated:l,unbind:A}):t.directive("lazy",{bind:l,update:function(t,e){g(this.el,{modifiers:this.modifiers,arg:this.arg,value:t,oldValue:e})},unbind:function(){A(this.el)}})}}]);